import {
  InfoLinkLabelContext,
  getMatchingBreakpoint,
  matchBreakpointMapping
} from "./chunk-XTPUGG63.js";
import {
  require_react_keyed_flatten_children
} from "./chunk-IE27NT7Q.js";
import {
  FormFieldContext,
  joinStrings,
  useFormFieldContext
} from "./chunk-42BEG66H.js";
import {
  useInternalI18n
} from "./chunk-ODZSV7SK.js";
import {
  FunnelMetrics,
  live_region_default,
  useFunnel,
  useFunnelStep,
  useFunnelSubStep
} from "./chunk-TVECJW2U.js";
import {
  DATA_ATTR_FIELD_ERROR,
  DATA_ATTR_FIELD_LABEL,
  getFieldSlotSeletor,
  getNameFromSelector,
  getSubStepAllSelector,
  useUniqueId
} from "./chunk-MKRUABPM.js";
import {
  internal_default,
  useMergeRefs
} from "./chunk-YL662TD3.js";
import {
  __rest,
  clsx_m_default,
  getBaseProps,
  useResizeObserver,
  useVisualRefresh,
  warnOnce
} from "./chunk-3NFHZQPK.js";
import {
  require_react
} from "./chunk-WHMHD7EJ.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@cloudscape-design/components/form-field/internal.js
var import_react4 = __toESM(require_react());

// node_modules/@cloudscape-design/components/grid/internal.js
var import_react3 = __toESM(require_react());
var import_react_keyed_flatten_children = __toESM(require_react_keyed_flatten_children());

// node_modules/@cloudscape-design/components/internal/is-development.js
var isDevelopment = true;

// node_modules/@cloudscape-design/components/grid/styles.css.js
import "/home/a171157/personal-repos/deep-racer/community-contributions/deepracer-custom-console/new/node_modules/@cloudscape-design/components/grid/styles.scoped.css";
var styles_css_default = {
  "grid": "awsui_grid_14yj0_1lwse_99",
  "no-gutters": "awsui_no-gutters_14yj0_1lwse_138",
  "grid-column": "awsui_grid-column_14yj0_1lwse_143",
  "colspan-1": "awsui_colspan-1_14yj0_1lwse_154",
  "push-1": "awsui_push-1_14yj0_1lwse_158",
  "pull-1": "awsui_pull-1_14yj0_1lwse_161",
  "colspan-2": "awsui_colspan-2_14yj0_1lwse_164",
  "push-2": "awsui_push-2_14yj0_1lwse_168",
  "pull-2": "awsui_pull-2_14yj0_1lwse_171",
  "colspan-3": "awsui_colspan-3_14yj0_1lwse_174",
  "push-3": "awsui_push-3_14yj0_1lwse_178",
  "pull-3": "awsui_pull-3_14yj0_1lwse_181",
  "colspan-4": "awsui_colspan-4_14yj0_1lwse_184",
  "push-4": "awsui_push-4_14yj0_1lwse_188",
  "pull-4": "awsui_pull-4_14yj0_1lwse_191",
  "colspan-5": "awsui_colspan-5_14yj0_1lwse_194",
  "push-5": "awsui_push-5_14yj0_1lwse_198",
  "pull-5": "awsui_pull-5_14yj0_1lwse_201",
  "colspan-6": "awsui_colspan-6_14yj0_1lwse_204",
  "push-6": "awsui_push-6_14yj0_1lwse_208",
  "pull-6": "awsui_pull-6_14yj0_1lwse_211",
  "colspan-7": "awsui_colspan-7_14yj0_1lwse_214",
  "push-7": "awsui_push-7_14yj0_1lwse_218",
  "pull-7": "awsui_pull-7_14yj0_1lwse_221",
  "colspan-8": "awsui_colspan-8_14yj0_1lwse_224",
  "push-8": "awsui_push-8_14yj0_1lwse_228",
  "pull-8": "awsui_pull-8_14yj0_1lwse_231",
  "colspan-9": "awsui_colspan-9_14yj0_1lwse_234",
  "push-9": "awsui_push-9_14yj0_1lwse_238",
  "pull-9": "awsui_pull-9_14yj0_1lwse_241",
  "colspan-10": "awsui_colspan-10_14yj0_1lwse_244",
  "push-10": "awsui_push-10_14yj0_1lwse_248",
  "pull-10": "awsui_pull-10_14yj0_1lwse_251",
  "colspan-11": "awsui_colspan-11_14yj0_1lwse_254",
  "push-11": "awsui_push-11_14yj0_1lwse_258",
  "pull-11": "awsui_pull-11_14yj0_1lwse_261",
  "colspan-12": "awsui_colspan-12_14yj0_1lwse_264",
  "push-12": "awsui_push-12_14yj0_1lwse_268",
  "pull-12": "awsui_pull-12_14yj0_1lwse_271",
  "push-0": "awsui_push-0_14yj0_1lwse_274",
  "pull-0": "awsui_pull-0_14yj0_1lwse_277",
  "offset-1": "awsui_offset-1_14yj0_1lwse_280",
  "offset-2": "awsui_offset-2_14yj0_1lwse_283",
  "offset-3": "awsui_offset-3_14yj0_1lwse_286",
  "offset-4": "awsui_offset-4_14yj0_1lwse_289",
  "offset-5": "awsui_offset-5_14yj0_1lwse_292",
  "offset-6": "awsui_offset-6_14yj0_1lwse_295",
  "offset-7": "awsui_offset-7_14yj0_1lwse_298",
  "offset-8": "awsui_offset-8_14yj0_1lwse_301",
  "offset-9": "awsui_offset-9_14yj0_1lwse_304",
  "offset-10": "awsui_offset-10_14yj0_1lwse_307",
  "offset-11": "awsui_offset-11_14yj0_1lwse_310",
  "restore-pointer-events": "awsui_restore-pointer-events_14yj0_1lwse_314"
};

// node_modules/@cloudscape-design/component-toolkit/lib/container-queries/use-container-query.js
var import_react = __toESM(require_react());
function useContainerQuery(mapFn, deps) {
  if (deps === void 0) {
    deps = [];
  }
  var elementRef = (0, import_react.useRef)(null);
  var _a = (0, import_react.useState)(null), state = _a[0], setState = _a[1];
  var getElement = (0, import_react.useCallback)(function() {
    return elementRef.current;
  }, deps);
  useResizeObserver(getElement, function(entry) {
    return setState(function(prevState) {
      return mapFn(entry, prevState);
    });
  });
  return [state, elementRef];
}

// node_modules/@cloudscape-design/component-toolkit/lib/use-controllable-state/use-controllable-state.js
var import_react2 = __toESM(require_react());

// node_modules/@cloudscape-design/components/internal/hooks/container-queries/use-container-breakpoints.js
function useContainerBreakpoints(triggers) {
  const triggersDep = triggers === null || triggers === void 0 ? void 0 : triggers.join();
  return useContainerQuery((rect) => getMatchingBreakpoint(rect.contentBoxWidth, triggers), [triggersDep]);
}

// node_modules/@cloudscape-design/components/grid/internal.js
var InternalGrid = import_react3.default.forwardRef((_a, ref) => {
  var { __breakpoint, gridDefinition = [], disableGutters = false, children, __responsiveClassName, __internalRootRef = null } = _a, restProps = __rest(_a, ["__breakpoint", "gridDefinition", "disableGutters", "children", "__responsiveClassName", "__internalRootRef"]);
  let [defaultBreakpoint, defaultRef] = useContainerBreakpoints(void 0);
  if (__breakpoint !== void 0) {
    defaultBreakpoint = __breakpoint;
    defaultRef = ref;
  }
  const baseProps = getBaseProps(restProps);
  const flattenedChildren = (0, import_react_keyed_flatten_children.default)(children);
  if (isDevelopment) {
    const columnCount = gridDefinition.length;
    const childCount = flattenedChildren.length;
    if (columnCount !== childCount) {
      warnOnce("Grid", `The number of children (${childCount}) does not match the number of columns defined (${columnCount}).`);
    }
  }
  const mergedRef = useMergeRefs(defaultRef, __internalRootRef);
  return import_react3.default.createElement("div", Object.assign({}, baseProps, { className: clsx_m_default(styles_css_default.grid, baseProps.className, { [styles_css_default["no-gutters"]]: disableGutters }, __responsiveClassName ? __responsiveClassName(defaultBreakpoint) : null), ref: mergedRef }), flattenedChildren.map((child, i) => {
    var _a2, _b, _c, _d;
    const key = child.key;
    return import_react3.default.createElement(
      "div",
      { key: key ? String(key) : void 0, className: clsx_m_default(styles_css_default["grid-column"], getColumnClassNames("colspan", (_a2 = gridDefinition[i]) === null || _a2 === void 0 ? void 0 : _a2.colspan, defaultBreakpoint), getColumnClassNames("offset", (_b = gridDefinition[i]) === null || _b === void 0 ? void 0 : _b.offset, defaultBreakpoint), getColumnClassNames("pull", (_c = gridDefinition[i]) === null || _c === void 0 ? void 0 : _c.pull, defaultBreakpoint), getColumnClassNames("push", (_d = gridDefinition[i]) === null || _d === void 0 ? void 0 : _d.push, defaultBreakpoint)) },
      import_react3.default.createElement("div", { className: styles_css_default["restore-pointer-events"] }, child)
    );
  }));
});
function getColumnClassNames(prop, mapping, breakpoint) {
  if (typeof mapping === "number") {
    return styles_css_default[`${prop}-${mapping}`];
  }
  if (breakpoint === null || mapping === void 0) {
    return null;
  }
  return styles_css_default[`${prop}-${matchBreakpointMapping(mapping, breakpoint)}`];
}
var internal_default2 = InternalGrid;

// node_modules/@cloudscape-design/components/form-field/util.js
function makeSlotId(prop, formFieldId, propName) {
  if (!prop) {
    return void 0;
  }
  return `${formFieldId}-${propName}`;
}
function getSlotIds(formFieldId, label, description, constraintText, errorText) {
  const ids = {
    label: makeSlotId(label, formFieldId, "label"),
    description: makeSlotId(description, formFieldId, "description"),
    constraint: makeSlotId(constraintText, formFieldId, "constraint"),
    error: makeSlotId(errorText, formFieldId, "error")
  };
  return ids;
}
function getAriaDescribedBy({ error, description, constraint }) {
  const describedByAttributes = [error, description, constraint].filter((e) => !!e);
  const describedBy = describedByAttributes.length ? describedByAttributes.join(" ") : void 0;
  return describedBy;
}
function getGridDefinition(stretch, secondaryControlPresent, isRefresh) {
  let columns;
  if (stretch) {
    columns = [{ colspan: 12 }, { colspan: 12 }];
  } else if (isRefresh) {
    columns = [{ colspan: { default: 12, xs: 8 } }, { colspan: { default: 12, xs: 4 } }];
  } else {
    columns = [{ colspan: { default: 12, xs: 9 } }, { colspan: { default: 12, xs: 3 } }];
  }
  if (!secondaryControlPresent) {
    return [columns[0]];
  }
  return columns;
}

// node_modules/@cloudscape-design/components/form-field/styles.css.js
import "/home/a171157/personal-repos/deep-racer/community-contributions/deepracer-custom-console/new/node_modules/@cloudscape-design/components/form-field/styles.scoped.css";
var styles_css_default2 = {
  "error-icon-shake-wrapper": "awsui_error-icon-shake-wrapper_14mhv_av9zi_103",
  "awsui-motion-shake-horizontally": "awsui_awsui-motion-shake-horizontally_14mhv_av9zi_1",
  "error-icon-scale-wrapper": "awsui_error-icon-scale-wrapper_14mhv_av9zi_130",
  "awsui-motion-scale-popup": "awsui_awsui-motion-scale-popup_14mhv_av9zi_1",
  "error": "awsui_error_14mhv_av9zi_103",
  "awsui-motion-fade-in-0": "awsui_awsui-motion-fade-in-0_14mhv_av9zi_1",
  "root": "awsui_root_14mhv_av9zi_174",
  "label": "awsui_label_14mhv_av9zi_210",
  "info": "awsui_info_14mhv_av9zi_224",
  "description": "awsui_description_14mhv_av9zi_229",
  "constraint": "awsui_constraint_14mhv_av9zi_230",
  "hints": "awsui_hints_14mhv_av9zi_237",
  "constraint-has-error": "awsui_constraint-has-error_14mhv_av9zi_238",
  "secondary-control": "awsui_secondary-control_14mhv_av9zi_242",
  "controls": "awsui_controls_14mhv_av9zi_246",
  "label-hidden": "awsui_label-hidden_14mhv_av9zi_246",
  "control": "awsui_control_14mhv_av9zi_246",
  "error__message": "awsui_error__message_14mhv_av9zi_264",
  "visually-hidden": "awsui_visually-hidden_14mhv_av9zi_268"
};

// node_modules/@cloudscape-design/components/form-field/internal.js
function FormFieldError({ id, children, errorIconAriaLabel }) {
  const i18n = useInternalI18n("form-field");
  const contentRef = (0, import_react4.useRef)(null);
  return import_react4.default.createElement(
    import_react4.default.Fragment,
    null,
    import_react4.default.createElement(
      "div",
      { id, className: styles_css_default2.error },
      import_react4.default.createElement(
        "div",
        { className: styles_css_default2["error-icon-shake-wrapper"] },
        import_react4.default.createElement(
          "div",
          { role: "img", "aria-label": i18n("i18nStrings.errorIconAriaLabel", errorIconAriaLabel), className: styles_css_default2["error-icon-scale-wrapper"] },
          import_react4.default.createElement(internal_default, { name: "status-warning", size: "small" })
        )
      ),
      import_react4.default.createElement("span", { className: styles_css_default2.error__message, ref: contentRef }, children)
    ),
    import_react4.default.createElement(live_region_default, { assertive: true, source: [errorIconAriaLabel, contentRef] })
  );
}
function ConstraintText({ id, hasError, children }) {
  return import_react4.default.createElement("div", { id, className: clsx_m_default(styles_css_default2.constraint, hasError && styles_css_default2["constraint-has-error"]) }, children);
}
function InternalFormField(_a) {
  var { controlId, stretch = false, label, info, i18nStrings, children, secondaryControl, description, constraintText, errorText, __hideLabel, __internalRootRef = null, __disableGutters = false } = _a, rest = __rest(_a, ["controlId", "stretch", "label", "info", "i18nStrings", "children", "secondaryControl", "description", "constraintText", "errorText", "__hideLabel", "__internalRootRef", "__disableGutters"]);
  const baseProps = getBaseProps(rest);
  const isRefresh = useVisualRefresh();
  const instanceUniqueId = useUniqueId("formField");
  const generatedControlId = controlId || instanceUniqueId;
  const formFieldId = controlId || generatedControlId;
  const { funnelInteractionId, submissionAttempt, funnelState, errorCount } = useFunnel();
  const { stepNumber, stepNameSelector } = useFunnelStep();
  const { subStepSelector, subStepNameSelector } = useFunnelSubStep();
  const slotIds = getSlotIds(formFieldId, label, description, constraintText, errorText);
  const ariaDescribedBy = getAriaDescribedBy(slotIds);
  const gridDefinition = getGridDefinition(stretch, !!secondaryControl, isRefresh);
  const { ariaLabelledby: parentAriaLabelledby, ariaDescribedby: parentAriaDescribedby, invalid: parentInvalid } = useFormFieldContext({});
  const contextValuesWithoutControlId = {
    ariaLabelledby: joinStrings(parentAriaLabelledby, slotIds.label) || void 0,
    ariaDescribedby: joinStrings(parentAriaDescribedby, ariaDescribedBy) || void 0,
    invalid: !!errorText || !!parentInvalid
  };
  const analyticsAttributes = {
    [DATA_ATTR_FIELD_LABEL]: slotIds.label ? getFieldSlotSeletor(slotIds.label) : void 0,
    [DATA_ATTR_FIELD_ERROR]: slotIds.error ? getFieldSlotSeletor(slotIds.error) : void 0
  };
  (0, import_react4.useEffect)(() => {
    var _a2, _b, _c;
    if (funnelInteractionId && errorText && funnelState.current !== "complete") {
      const stepName = getNameFromSelector(stepNameSelector);
      const subStepName = getNameFromSelector(subStepNameSelector);
      errorCount.current++;
      const errorIsVisible = ((_c = (_b = (_a2 = __internalRootRef === null || __internalRootRef === void 0 ? void 0 : __internalRootRef.current) === null || _a2 === void 0 ? void 0 : _a2.getBoundingClientRect()) === null || _b === void 0 ? void 0 : _b.width) !== null && _c !== void 0 ? _c : 0) > 0;
      if (errorIsVisible) {
        FunnelMetrics.funnelSubStepError({
          funnelInteractionId,
          subStepSelector,
          subStepName,
          subStepNameSelector,
          stepNumber,
          stepName,
          stepNameSelector,
          fieldErrorSelector: `${getFieldSlotSeletor(slotIds.error)} .${styles_css_default2.error__message}`,
          fieldLabelSelector: getFieldSlotSeletor(slotIds.label),
          subStepAllSelector: getSubStepAllSelector()
        });
      }
      return () => {
        errorCount.current--;
      };
    }
  }, [funnelInteractionId, errorText, submissionAttempt, errorCount]);
  return import_react4.default.createElement(
    "div",
    Object.assign({}, baseProps, { className: clsx_m_default(baseProps.className, styles_css_default2.root), ref: __internalRootRef }, analyticsAttributes),
    import_react4.default.createElement(
      "div",
      { className: clsx_m_default(__hideLabel && styles_css_default2["visually-hidden"]) },
      label && import_react4.default.createElement("label", { className: styles_css_default2.label, id: slotIds.label, htmlFor: generatedControlId }, label),
      import_react4.default.createElement(InfoLinkLabelContext.Provider, { value: slotIds.label }, !__hideLabel && info && import_react4.default.createElement("span", { className: styles_css_default2.info }, info))
    ),
    description && import_react4.default.createElement("div", { className: styles_css_default2.description, id: slotIds.description }, description),
    import_react4.default.createElement(
      "div",
      { className: clsx_m_default(styles_css_default2.controls, __hideLabel && styles_css_default2["label-hidden"]) },
      import_react4.default.createElement(
        internal_default2,
        { gridDefinition, disableGutters: __disableGutters },
        import_react4.default.createElement(FormFieldContext.Provider, { value: Object.assign({ controlId: generatedControlId }, contextValuesWithoutControlId) }, children && import_react4.default.createElement("div", { className: styles_css_default2.control }, children)),
        secondaryControl && import_react4.default.createElement(
          FormFieldContext.Provider,
          { value: contextValuesWithoutControlId },
          import_react4.default.createElement("div", { className: styles_css_default2["secondary-control"] }, secondaryControl)
        )
      )
    ),
    (constraintText || errorText) && import_react4.default.createElement(
      "div",
      { className: styles_css_default2.hints },
      errorText && import_react4.default.createElement(FormFieldError, { id: slotIds.error, errorIconAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorIconAriaLabel }, errorText),
      constraintText && import_react4.default.createElement(ConstraintText, { id: slotIds.constraint, hasError: !!errorText }, constraintText)
    )
  );
}

export {
  isDevelopment,
  useContainerQuery,
  useContainerBreakpoints,
  internal_default2 as internal_default,
  FormFieldError,
  ConstraintText,
  InternalFormField
};
//# sourceMappingURL=chunk-2STP5MNB.js.map
