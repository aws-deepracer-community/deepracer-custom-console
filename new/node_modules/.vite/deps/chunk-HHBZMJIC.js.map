{
  "version": 3,
  "sources": ["../../src/anchor-navigation/index.tsx", "../../src/anchor-navigation/internal.tsx", "../../src/anchor-navigation/use-scroll-spy.tsx", "../../@cloudscape-design/components/anchor-navigation/styles.css.js", "../../@cloudscape-design/components/anchor-navigation/test-classes/styles.css.js"],
  "sourcesContent": ["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { AnchorNavigationProps } from './interfaces';\nimport InternalAnchorNavigation from './internal';\n\nexport { AnchorNavigationProps };\n\nexport default function AnchorNavigation({ scrollSpyOffset = 0, ...props }: AnchorNavigationProps) {\n  const baseComponentProps = useBaseComponent('AnchorNavigation');\n  return <InternalAnchorNavigation scrollSpyOffset={scrollSpyOffset} {...props} {...baseComponentProps} />;\n}\napplyDisplayName(AnchorNavigation, 'AnchorNavigation');\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component/index.js';\nimport { fireCancelableEvent, fireNonCancelableEvent, isPlainLeftClick } from '../internal/events/index';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { AnchorNavigationProps } from './interfaces';\nimport useScrollSpy from './use-scroll-spy.js';\n\nimport styles from './styles.css.js';\nimport testUtilsStyles from './test-classes/styles.css.js';\n\nexport default function InternalAnchorNavigation({\n  anchors,\n  ariaLabelledby,\n  onFollow,\n  onActiveHrefChange,\n  activeHref = '',\n  __internalRootRef = null,\n  scrollSpyOffset = 0,\n  ...props\n}: AnchorNavigationProps & InternalBaseComponentProps) {\n  const baseProps = getBaseProps(props);\n\n  const hrefs = useMemo(() => anchors.map(anchor => anchor.href), [anchors]);\n\n  const onFollowHandler = useCallback(\n    (anchor: AnchorNavigationProps.Anchor, sourceEvent: React.SyntheticEvent | Event) => {\n      fireCancelableEvent(onFollow, anchor, sourceEvent);\n    },\n    [onFollow]\n  );\n\n  const currentActiveHref = useScrollSpy({\n    hrefs,\n    scrollSpyOffset,\n    activeHref,\n  });\n\n  useEffect(() => {\n    if (currentActiveHref) {\n      const newActiveAnchor = anchors.find(anchor => anchor.href === currentActiveHref);\n      fireNonCancelableEvent(onActiveHrefChange, newActiveAnchor);\n    }\n  }, [onActiveHrefChange, anchors, currentActiveHref]);\n\n  return (\n    <nav\n      {...baseProps}\n      ref={__internalRootRef}\n      aria-labelledby={ariaLabelledby}\n      className={clsx(baseProps.className, styles.root, testUtilsStyles.root)}\n    >\n      <ol className={clsx(styles['anchor-list'], testUtilsStyles['anchor-list'])}>\n        {anchors.map((anchor, index) => {\n          return (\n            <Anchor\n              onFollow={onFollowHandler}\n              isActive={anchor.href === currentActiveHref}\n              key={index}\n              index={index}\n              anchor={anchor}\n            />\n          );\n        })}\n      </ol>\n    </nav>\n  );\n}\n\ninterface AnchorProps {\n  anchor: AnchorNavigationProps.Anchor;\n  onFollow: (anchor: AnchorNavigationProps.Anchor, event: React.SyntheticEvent | Event) => void;\n  isActive: boolean;\n  index: number;\n}\n\nconst Anchor = ({ anchor, onFollow, isActive, index }: AnchorProps) => {\n  checkSafeUrl('AnchorNavigation', anchor.href);\n\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      if (isPlainLeftClick(event)) {\n        onFollow(anchor, event);\n      }\n    },\n    [onFollow, anchor]\n  );\n\n  const activeItemClasses = clsx(styles['anchor-item--active'], testUtilsStyles['anchor-item--active']);\n\n  return (\n    <li data-itemid={`anchor-item-${index + 1}`} className={clsx(styles['anchor-item'], isActive && activeItemClasses)}>\n      <a\n        onClick={onClick}\n        className={clsx(\n          styles['anchor-link'],\n          testUtilsStyles['anchor-link'],\n          isActive && styles['anchor-link--active']\n        )}\n        {...(isActive ? { 'aria-current': true } : {})}\n        href={anchor.href}\n      >\n        <span\n          className={clsx(styles['anchor-link-text'], testUtilsStyles['anchor-link-text'])}\n          style={{ paddingInlineStart: `${anchor.level * 16 + 2}px` }}\n        >\n          {anchor.text}\n        </span>\n        {anchor.info && (\n          <span className={clsx(styles['anchor-link-info'], testUtilsStyles['anchor-link-info'])}>{anchor.info}</span>\n        )}\n      </a>\n    </li>\n  );\n};\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect, useState } from 'react';\n\nconst isBrowser = typeof window !== 'undefined';\n\n/**\n * Hook to implement scroll-spy functionality.\n *\n * @param hrefs An array of href strings that correspond to the IDs of the target elements on the page.\n * The hrefs should be sorted in the order they appear on the page for accurate scroll-spy behavior.\n * @param scrollSpyOffset The number of pixels to offset from the top of the document when activating anchors.\n * Useful for accommodating fixed or sticky headers.\n * @param activeHref The currently active href. If provided, the hook will operate in a controlled manner,\n * and the scroll-spy logic will be disabled.\n *\n * @returns {string | undefined} - The href of the currently active element as per scroll position, or undefined if none is active.\n */\nexport default function useScrollSpy({\n  hrefs,\n  scrollSpyOffset,\n  activeHref,\n}: {\n  hrefs: string[];\n  scrollSpyOffset: number;\n  activeHref?: string;\n}): string | undefined {\n  const [currentHref, setCurrentHref] = useState<string | undefined>(activeHref);\n  const [lastAnchorExists, setLastAnchorExists] = useState(false);\n\n  useEffect(() => {\n    setCurrentHref(activeHref);\n  }, [activeHref]);\n\n  useEffect(() => {\n    setLastAnchorExists(isBrowser && !!document.getElementById(hrefs[hrefs.length - 1]?.slice(1)));\n  }, [hrefs]);\n\n  // Get the bounding rectangle of an element by href\n  const getRectByHref = useCallback((href: string) => {\n    return document.getElementById(href.slice(1))?.getBoundingClientRect();\n  }, []);\n\n  // Check if we're scrolled to the bottom of the page\n  const isPageBottom = useCallback(() => {\n    return lastAnchorExists && Math.ceil(window.scrollY) >= Math.floor(document.body.scrollHeight - window.innerHeight);\n  }, [lastAnchorExists]);\n\n  // Find the first href for which the element is within the viewport\n  const findHrefInView = useCallback(() => {\n    return hrefs.find(href => {\n      const rect = getRectByHref(href);\n      return rect && rect.bottom <= window.innerHeight && rect.top >= scrollSpyOffset;\n    });\n  }, [getRectByHref, scrollSpyOffset, hrefs]);\n\n  // Find the last href where its element is above or within the viewport\n  const findLastHrefInView = useCallback(() => {\n    return [...hrefs].reverse().find(href => {\n      const rect = getRectByHref(href);\n      return rect && rect.bottom <= window.innerHeight;\n    });\n  }, [getRectByHref, hrefs]);\n\n  // Scroll event handler\n  const handleScroll = useCallback(() => {\n    if (activeHref || !isBrowser) {\n      return;\n    }\n\n    const { scrollY } = window;\n\n    if (document.body.scrollHeight > window.innerHeight && isPageBottom()) {\n      setCurrentHref(hrefs[hrefs.length - 1]);\n    } else {\n      setCurrentHref(findHrefInView() || (scrollY > 0 ? findLastHrefInView() : undefined));\n    }\n  }, [activeHref, isPageBottom, findHrefInView, findLastHrefInView, hrefs]);\n\n  useEffect(() => {\n    if (isBrowser) {\n      handleScroll();\n      window.addEventListener('scroll', handleScroll, { passive: true });\n      return () => {\n        window.removeEventListener('scroll', handleScroll);\n      };\n    }\n  }, [handleScroll]);\n\n  return currentHref;\n}\n", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_swimc_y9e12_189\",\n  \"anchor-list\": \"awsui_anchor-list_swimc_y9e12_221\",\n  \"anchor-item\": \"awsui_anchor-item_swimc_y9e12_244\",\n  \"anchor-item--active\": \"awsui_anchor-item--active_swimc_y9e12_264\",\n  \"anchor-link\": \"awsui_anchor-link_swimc_y9e12_281\",\n  \"anchor-link--active\": \"awsui_anchor-link--active_swimc_y9e12_323\",\n  \"anchor-link-text\": \"awsui_anchor-link-text_swimc_y9e12_330\",\n  \"anchor-link-info\": \"awsui_anchor-link-info_swimc_y9e12_334\"\n};\n  ", "\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_17oho_5eh15_5\",\n  \"anchor-list\": \"awsui_anchor-list_17oho_5eh15_9\",\n  \"anchor-item--active\": \"awsui_anchor-item--active_17oho_5eh15_13\",\n  \"anchor-link\": \"awsui_anchor-link_17oho_5eh15_17\",\n  \"anchor-link-text\": \"awsui_anchor-link-text_17oho_5eh15_21\",\n  \"anchor-link-info\": \"awsui_anchor-link-info_17oho_5eh15_25\"\n};\n  "],
  "mappings": "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",
  "names": ["import_react", "import_react", "styles_css_default", "React", "styles_css_default", "React"]
}
